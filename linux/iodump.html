<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Eric Brombaugh">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (X11; U; Linux 2.2.14-5.0 i686) [Netscape]">
   <title>iodump</title>
   <link rel="icon" href="favicon.ico" type="image/x-icon">
   <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"> 
</head>
<body>

<h2>
I/O Space Dump utility</h2>

<h3>What is it?</h3>
Have you ever wanted to look at your I/O space, but couldn't because
it's locked up by the kernel?  Here's a little (I mean _LITTLE_)
kernel module that takes load time parameters and dumps I/O space to the
syslog so you can see what's where in a nice hexdump format. When it is
done, it exits without installing anything so you can run it again and
again. 

<h3>Downloading</h3>
Get it here: <a href="iodump-20001210.tar.gz">iodump-20001210.tar.gz</a>

<h3>Compiling</h3>
After untarring, Simply type 'make' to compile the module.

<h3>How to use it</h3>
Once you've compiled it, load it with the following command:
<p>
/sbin/insmod ./iodump.o addr_start='start' addr_len='bytes'
<p>
replacing 'start' and 'bytes' with the starting address in I/O space and
the number of bytes to dump. The two parameters should be in C hex format,
so an example might look like this:
<p>
/sbin/insmod ./iodump.o addr_start=0x6100 addr_len=0x80
<p>
which would dump the 128 bytes of I/O starting at location 6100 hex. The output
will appear in the syslog (/var/log/messages on my RH6.2 machine) and will be
formatted as follows:
<blockquote>
<br>Oct 26 21:03:26 eisen kernel: iodump: version 0.01 time 12:11:32 Oct 26 2000 
<br>Oct 26 21:03:26 eisen kernel: 6100: 00 ff 00 ff 00 ff 00 ff 
<br>Oct 26 21:03:26 eisen kernel: 6108: 00 ff 00 ff 00 ff 00 ff 
<br>Oct 26 21:03:26 eisen kernel: 6110: 00 ff 00 ff 00 ff 00 ff 
<br>Oct 26 21:03:26 eisen kernel: 6118: 12 00 04 00 88 88 88 88 
<br>Oct 26 21:03:26 eisen kernel: 6120: 00 ff 00 ff 00 ff 00 ff 
<br>Oct 26 21:03:26 eisen kernel: 6128: 00 ff 00 ff 00 ff 00 ff 
<br>Oct 26 21:03:26 eisen kernel: 6130: 00 00 00 00 00 00 00 30 
<br>Oct 26 21:03:26 eisen kernel: 6138: 00 00 00 00 00 00 00 00 
<br>Oct 26 21:03:26 eisen kernel: 6140: 01 0f 00 00 00 00 00 00 
<br>Oct 26 21:03:26 eisen kernel: 6148: 00 00 ff ff 00 00 01 01 
<br>Oct 26 21:03:26 eisen kernel: 6150: 00 00 00 00 00 00 00 00 
<br>Oct 26 21:03:26 eisen kernel: 6158: 00 00 00 00 00 00 00 00 
<br>Oct 26 21:03:26 eisen kernel: 6160: f7 f6 01 01 ff ff 01 01 
<br>Oct 26 21:03:26 eisen kernel: 6168: 01 01 01 01 00 f6 00 f6 
<br>Oct 26 21:03:26 eisen kernel: 6170: 00 01 00 01 00 01 00 01 
<br>Oct 26 21:03:26 eisen kernel: 6178: 00 01 00 01 00 01 00 01 
<br>Oct 26 21:03:26 eisen kernel: iodump: dump complete. 
</blockquote>

<h3>Cautions</h3>
This is a development and debugging tool intended for use by people who
know what they're doing. Randomly reading I/O space can lock your machine
up solid if you're not careful (and sometimes even if you are!),
so sync your disks and expect the worst before running this tool.
Oh, and don't blame me if you lose something important anyway.

<h3>Final remarks</h3>
This tool was written to support the development of the Maestro3/Allegro
sound driver. Thanks to Zach Brown for spearheading that project and for
putting up with my stupid questions as I learn about writing kernel code.

<p><br>
Linux - Yeah!

<p><a href="linux.html">Return to Linux page.</a>
<h5>
<b>Last Updated</b></h5>
:12/10/00
<h5>
<b>Comments to:</b></h5>
<a href="mailto:ebrombaugh1@cox.net">Eric Brombaugh</a>
<br>&nbsp;
</body>
</html>
